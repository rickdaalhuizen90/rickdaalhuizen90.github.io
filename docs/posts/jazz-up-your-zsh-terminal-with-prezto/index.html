<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Jazz Up your ZSH Terminal with Prezto - Rick Daalhuizen</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://rickdaalhuizen.comfavicon.png><link rel=stylesheet href=/css/style.min.4b2bfb3701049fe0da3e8d6b9d15186ba1dc7e294f0be3e2bca21bb8a330f5dd.css><meta name=description content="How to customize your ZSH terminal with Prezto, complete installation and setup using zsh plugins, zsh themes and much more."><meta property="og:title" content="Jazz Up your ZSH Terminal with Prezto"><meta property="og:type" content="website"><meta property="og:url" content="https://rickdaalhuizen.com/posts/jazz-up-your-zsh-terminal-with-prezto/"><meta property="og:description" content="How to customize your ZSH terminal with Prezto, complete installation and setup using zsh plugins, zsh themes and much more."><meta name=twitter:card content="summary"><meta name=twitter:site content="@zerostaticio"><meta name=twitter:creator content="@zerostaticio"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel=stylesheet></head><body class="page page-default-single"><div id=wrapper class=wrapper><div class=header><a class=header-logo href=https://rickdaalhuizen.com>Rick Daalhuizen</a><div class=menu-main><ul><li class=menu-item-about><a href=/pages/about/>About</a></li><li class=menu-item-posts><a href=/posts/>Posts</a></li></ul></div></div><div class=intro><h1>Jazz Up your ZSH Terminal with Prezto<span class=dot>.</span></h1></div><div class=content><p>For some time now I&rsquo;ve been using zsh as my default Unix shell, which is an extended Bourne shell with many improvements, including some features from bash, ksh and tcsh. One of my favorite shells is fish shell. It&rsquo;s easy to set-up and many of the features that I use comes pre-installed, as it is not POSIX supported it has a much readable (fish) syntax for scripting.</p><blockquote><p>Why I switched from fish to zsh, and using Prezto over oh-my-zsh.</p></blockquote><p>The latter can also be a drawback. Many of the bash scripts I work with are written in bash. That means that fish does not support all of the syntax. For that reason I went looking for an alternative and quickly came to <a href=https://en.wikipedia.org/wiki/Z_shell>zsh</a> (pronounce it as Z shell). Despite the fact that zsh does not support POSIX by default, zsh makes it possible to emulate POSIX.</p><p>The most popular zsh framework is Oh-My-Zsh. Oh my zsh gives you a lot of options to set up your zsh environment. I&rsquo;ve been using Oh-My-Zsh for a while and for most this is a good choice. However, after using Oh-My-Zsh, I found myself not using many of the features that Oh-My-Zsh has to offer.</p><p>So I was looking for an alternative. I quickly came to <a href=https://github.com/sorin-ionescu/prezto>Prezto</a>. Like Oh-My-Zsh, Prezto is a configuration framework for zsh. It comes with auto completion, aliases, function and prompt themes.</p><blockquote><p>A framework is not necessary if you want to add your own custom configurations,
however it does make things a lot easier to set up.</p></blockquote><p><em>I will discuss the following: how to install zsh and Prezto, useful plugins, theming, features such as aliases and custom functions.</em>
My installation will be on macOS, but this will not be much different if you are a Linux user. If you are on Windows it will be slightly different. If you would like to know how to install zsh and Prezto on Windows, let me know in the comments so I can add those steps later.</p><h2 id=tldr>TLDR;</h2><p>If you prefer to get started right away, you can download my zsh configuration <a href=https://gist.github.com/rickdaalhuizen90/2ce9eb662e71024ca12e0635cfb44dab>here</a>.</p><h2 id=installation>Installation</h2><p>If you are using macOS Catalina or higher then you may have heard that they have replaced bash with zsh as default shell.</p><p>Run to see what your current shell is</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>echo</span> <span class=nv>$SHELL</span>
</code></pre></div><p>If zsh is not installed, you can use Homebrew. Homebrew is a package manager for macOS. For Linux you can use Snapcraft or Flatpak and Chocolatey for windows. Make sure you have a package manager installed before continuing.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>brew install zsh
</code></pre></div><p>Then set zsh as default shell:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>chsh -s /bin/zsh
</code></pre></div><p>Zsh uses ~ / 5 startup files. These will be visible after we install Prezto.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nv>$ZDOTDIR</span>/.zshenv
<span class=nv>$ZDOTDIR</span>/.zprofile
<span class=nv>$ZDOTDIR</span>/.zshrc
<span class=nv>$ZDOTDIR</span>/.zlogin
<span class=nv>$ZDOTDIR</span>/.zlogout
</code></pre></div><blockquote><p>From your terminal you can echo $ ZDOTDIR to see what it refers to. By default it refers to $HOME.</p></blockquote><ul><li>The .zshenv is used every time you start zsh. This is for your environment variables like $PATH, $EDITOR, $VISUAL, $PAGER, $LANG.</li><li>The .zprofile is an alternative to .zlogin and these two are not intended to be used together.</li><li>The .zshrc is where we add our aliases, functions and other customizations. In this tutorial we will mainly discuss the .zshrc.</li><li>The .zlogin is started when you log in your shell but after your .zshrc.</li><li>The .zlogout is used when you close your shell.</li></ul><p>We&rsquo;ll come back to the .zshrc later, for now we&rsquo;ll leave it as is. Let&rsquo;s start by installing Prezto.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>git clone --recursive https://github.com/sorin-ionescu/prezto.git <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ZDOTDIR</span><span class=k>:-</span><span class=nv>$HOME</span><span class=si>}</span><span class=s2>/.zprezto&#34;</span>
</code></pre></div><p>Then copy-paste the following into your terminal:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>setopt EXTENDED_GLOB
<span class=k>for</span> rcfile in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ZDOTDIR</span><span class=k>:-</span><span class=nv>$HOME</span><span class=si>}</span><span class=s2>&#34;</span>/.zprezto/runcoms/^README.md<span class=o>(</span>.N<span class=o>)</span><span class=p>;</span> <span class=k>do</span>
  ln -s <span class=s2>&#34;</span><span class=nv>$rcfile</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ZDOTDIR</span><span class=k>:-</span><span class=nv>$HOME</span><span class=si>}</span><span class=s2>/.</span><span class=si>${</span><span class=nv>rcfile</span><span class=p>:</span><span class=nv>t</span><span class=si>}</span><span class=s2>&#34;</span>
<span class=k>done</span>
</code></pre></div><p>After we have installed Prezto you will find a .zpreztorc file in your $HOME folder next to the zsh startup files. Here we edit our Prezto options.</p><figure><img src=iterm-prezto-options.png alt="Iterm prezto options"></figure><p>To install plugins in zsh we need a plugin manager, I prefer zplug but feel free to use any of the other plugin managers. Zplug also makes it possible to install Oh-My-Zsh plugins without any hassle.
To install zplug run the following:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>curl -sL --proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh <span class=p>|</span> zsh
</code></pre></div><p>We will be installing the following</p><ul><li>Git - a tab-completion library for Git</li><li>Osx - provides a few utilities for macOS</li><li>Zsh auto-suggestions - Fish-like fast/unobtrusive auto-suggestions for zsh.</li><li>Fasd - offers quick access to files and directories for POSIX shells</li><li>Enhancd - A next-generation cd command with an interactive filter</li><li>Fzf - A general-purpose command-line fuzzy finder.</li><li>Lsdeluxe - colorizes the ls output with color and icons</li><li>Yarn - adds common aliases and completion for the Yarn package manager</li><li>Powerlevel10k - Powerlevel10k theme for zsh with configuration wizard.</li></ul><p>These are my essential plugins that I use, this will be different for everyone so take the time to see which plugins suit you. For more plugins see: awesome zsh plugins.
Add the following to your ~/.zshrc file.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Customize to your needs...</span>
<span class=nb>source</span> ~/.zplug/init.zsh

<span class=c1># Plugins</span>
zplug <span class=s2>&#34;plugins/git&#34;</span>,   from:oh-my-zsh
zplug <span class=s2>&#34;plugins/osx&#34;</span>,   from:oh-my-zsh
zplug <span class=s2>&#34;zsh-users/zsh-autosuggestions&#34;</span>
zplug <span class=s2>&#34;clvv/fasd&#34;</span>
zplug <span class=s2>&#34;b4b4r07/enhancd&#34;</span>
zplug <span class=s2>&#34;junegunn/fzf&#34;</span>
zplug <span class=s2>&#34;Peltoche/lsd&#34;</span>
zplug <span class=s2>&#34;g-plane/zsh-yarn-autocompletions&#34;</span>
zplug <span class=s2>&#34;romkatv/powerlevel10k&#34;</span>, as:theme, depth:1
</code></pre></div><p>Then we run:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>source</span> ~/.zshrc <span class=o>&amp;&amp;</span> zplug install
</code></pre></div><h2 id=add-a-font>Add a font</h2><p>Let&rsquo;s start by installing a Nerd font, this ensures that all glyphs and icons in our theme are supported.
Go to downloads on the Nerd font website and download the font of your choice, I prefer Hack.
Then set your font in your terminal:</p><figure><img src=iterm-font.png alt="Iterm font"></figure><h2 id=adding-a-theme>Adding a theme</h2><p>Prezto comes standard with a number of themes that you can use.Once you type <em>prompt -l</em> you will see a list of currently available themes. For example, use prompt -s paradox to set a theme.</p><figure><img src=iterm-zsh-prompt.png alt="Iterm zsh prompt"></figure><p>If you are satisfied with your theme, you can save this in your .zpreztorc file as follows. In this case we go for powerlevel10k, perhaps one of the most well-known themes out there.
To set this up we go to &ldquo;themes&rdquo; in our preztorc file.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Set the prompt theme to load.</span>
<span class=c1># Setting it to &#39;random&#39; loads a random theme.</span>
<span class=c1># Auto set to &#39;off&#39; on dumb terminals.</span>
zstyle <span class=s1>&#39;:prezto:module:prompt&#39;</span> theme <span class=s1>&#39;powerlevel10k&#39;</span>
</code></pre></div><p>Then start with the p10k setup wizard, which you start as follows:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>p10k configure
</code></pre></div><p>After following the setup wizard your powerlevel10k is set. This is my result</p><figure><img src=iterm-zsh-theme.png alt="Iterm zsh theme"></figure><h2 id=aliases>Aliases</h2><p>The common alias plugin gives us access to a list of aliases we can use. However, if you want to add your own aliases, this can be done in your .zshrc file.
Examples of particular aliases</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Aliases</span>
<span class=nb>alias</span> <span class=nv>untar</span><span class=o>=</span><span class=s1>&#39;tar -zxvf&#39;</span> <span class=c1># Unpack .tar file</span>
<span class=nb>alias</span> <span class=nv>wget</span><span class=o>=</span><span class=s1>&#39;wget -c&#39;</span> <span class=c1># Download and resume</span>
<span class=nb>alias</span> <span class=nv>getpass</span><span class=o>=</span><span class=s1>&#39;openssl rand -base64 20&#39;</span> <span class=c1># Generate password</span>
<span class=nb>alias</span> <span class=nv>sha</span><span class=o>=</span><span class=s1>&#39;shasum -a 256&#39;</span> <span class=c1># Check shasum</span>
<span class=nb>alias</span> <span class=nv>ping</span><span class=o>=</span><span class=s1>&#39;ping -c 5&#39;</span> <span class=c1># Limit ping to 5&#39;</span>
<span class=nb>alias</span> <span class=nv>www</span><span class=o>=</span><span class=s1>&#39;php -S localhost:8000&#39;</span> <span class=c1># Run local web server</span>
</code></pre></div><h2 id=custom-functions>Custom functions</h2><p>For some complex commands, an alias is insufficient and long commands are difficult to maintain. We can use custom functions for this. There are several ways to create a custom function in zsh. I will give two examples that are most common.
One is to define your functions as follows in your <em>~/.zshrc</em>:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Custom functions</span>
hello_world <span class=o>()</span> <span class=o>{</span>
    <span class=nb>echo</span> <span class=s2>&#34;Hello world&#34;</span>
<span class=o>}</span>
</code></pre></div><p>After that use the source command to load your function and run it as follows.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>source</span> ~/.zshrc <span class=o>&amp;&amp;</span> hello_world
</code></pre></div><p>The second way is to define your custom functions.</p><p>This will keep your zsh configuration more organized rather than putting everything in your ~/.zshrc file.</p><p>When you echo $fpath in your console you can see a set of directories being defined, which contain files that can be marked to be loaded automatically. To add a folder to your $fpath we need to add the following in your ~/.zshrc.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nv>fpath</span><span class=o>=(</span> ~/.zfunc <span class=s2>&#34;</span><span class=si>${</span><span class=nv>fpath</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>)</span>
</code></pre></div><p>Then we check to see that zfunc is being added to $fpath.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>source</span> ~/.zshrc <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=nv>$fpath</span> <span class=p>|</span> grep -o zfunc
</code></pre></div><p>Finally we need to create a directory ~/.zfunc with a file &ldquo;hello&rdquo; - you can name it however you like but this is how I prefer it.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>mkdir ~/.zfunc <span class=o>&amp;&amp;</span> touch ~/.zfunc/hello
</code></pre></div><p>As an example I created a simple hello function.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>hello <span class=o>()</span> <span class=o>{</span>
    <span class=nb>echo</span> <span class=s2>&#34;Hello </span><span class=nv>$@</span><span class=s2>&#34;</span>
<span class=o>}</span>
hello
</code></pre></div><p>After you need to mark the function to be automatically loaded, the U option suppress alias expansion and z stands for to use zsh instead of kash style:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>autoload -Uz hello
</code></pre></div><p>Remember to source it every time you update your function like this:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>source</span> ~/.zshrc/hello
</code></pre></div><p>After you can run:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>hello John
</code></pre></div><p>We have reached the end of this blog. I hope I&rsquo;ve provided you with enough information to create your own zsh configuration. If there are any questions or suggestions, let me know in the comments.</p></div><div class=footer><div class=footer-social><span class="social-icon social-icon-twitter"><a href=https://twitter.com/zerostaticio title=twitter target=_blank rel=noopener><img src=/images/social/twitter.svg width=24 height=24 alt=twitter></a></span>
<span class="social-icon social-icon-github"><a href=https://github.com/zerostaticthemes title=github target=_blank rel=noopener><img src=/images/social/github.svg width=24 height=24 alt=github></a></span>
<span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com title=linkedin target=_blank rel=noopener><img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin></a></span></div></div></div><script type=text/javascript src=/js/bundle.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js></script></body></html>